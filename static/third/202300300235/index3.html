<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>添加商品</title>
    <style>
        .button31:hover{
            background-color: aqua;
            cursor:pointer;
        }
        
        .button31:active{
            background-color: hotpink;
        }
</style>
</head>
<body background="./跳蚤市场背景.png" style="background-repeat: no-repeat;background-attachment: fixed;background-size: 100% 100%;">
    <p style="color:red;font-size: 40px;text-align: center;">-----|··~··~··~··~··~··~··~··上架商品··~··~··~··~··~··~··~··|-----</p>
    <div style="text-align:center;vertical-align:middel;"><input type="text" placeholder="输入您的学号" id="input31" style="background-color: aquamarine;"><br></div>
    <br>
    <div style="text-align:center;vertical-align:middel;"><input type="text" placeholder="输入商品名称" id="input32" style="background-color: aquamarine;"><br></div>
    <br>
    <div style="text-align:center;vertical-align:middel;"><input type="text" placeholder="输入商品描述" id="input33" style="background-color: aquamarine;" ><br></div>
    <br>
    <div style="text-align:center;vertical-align:middel;"><input type="text" placeholder="输入商品库存(整数)" id="input34" style="background-color: aquamarine;" ><br></div>
    <br>
    <div style="text-align:center;vertical-align:middel;"><input type="text" placeholder="输入商品价格(两位小数)" id="input35" style="background-color: aquamarine;"><br></div>
    <br>
    <div style="text-align:center;vertical-align:middel;"><button class="button31" onclick="func31()">上架</button></div>
    <script>
        function func31(){
            let num =  parseInt(document.getElementById('input31').value)
            var name = document.getElementById('input32').value
            let description = document.getElementById('input33').value
            let inventory = parseInt(document.getElementById('input34').value)
            let price = parseFloat(document.getElementById('input35').value)

        var myHeaders = new Headers();
        myHeaders.append("User-Agent", "Apifox/1.0.0 (https://apifox.com)");
        myHeaders.append("Content-Type", "application/json");

        var raw = JSON.stringify({
            num,
            name,
            description,
            inventory,
            price,
        });

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
            redirect: 'follow'
        };

        fetch("http://zyhcc.top:8088/goods/addGoods", requestOptions)
        .then(response => response.text())
        .then(result => console.log(result))
        .catch(error => console.log('error', error));
        alert("添加成功")
    }
    </script>
</body>
</html>